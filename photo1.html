<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Special Moment</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400&display=swap');
        body{margin:0;padding:0;font-family:'Poppins',sans-serif;background:#ffe8e8;color:#5c3c3c;min-height:100vh;overflow-x:hidden;text-align:center;display:flex;justify-content:center;align-items:center;}
        .background-effects{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden}
        .background-effects .particle{position:absolute;height:auto;opacity:0}
        .background-effects .heart{animation:floatUp 20s infinite linear}
        .background-effects .rose{animation:floatUpRotate 25s infinite linear}
        .background-effects .heart svg{width:100%;height:100%;fill:rgba(255,105,180,0.6);filter:blur(2px)}
        .background-effects .rose svg{width:100%;height:100%;fill:rgba(220,40,40,0.5);filter:blur(3px)}
        @keyframes floatUp{0%{transform:translateY(100vh) scale(0.5);opacity:0}10%{opacity:0.9}90%{opacity:0.9}100%{transform:translateY(-10vh) scale(1.2);opacity:0}}
        @keyframes floatUpRotate{0%{transform:translateY(100vh) scale(0.6) rotate(0deg);opacity:0}10%{opacity:0.8}90%{opacity:0.8}100%{transform:translateY(-10vh) scale(1.1) rotate(220deg);opacity:0}}
        .glitter{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:2}
        .glitter::after{content:'';position:absolute;width:100%;height:100%;background:transparent;background-image:radial-gradient(circle,rgba(255,255,255,0.7) 1px,transparent 1px),radial-gradient(circle,rgba(255,255,255,0.7) 1px,transparent 1px);background-size:50px 50px,30px 30px;background-position:0 0,15px 15px;animation:sparkle 5s infinite linear}
        @keyframes sparkle{0%{background-position:0 0,15px 15px}100%{background-position:50px 50px,45px 45px}}
        .detail-container{width:90%;max-width:900px;margin:50px auto;padding:40px;background-color:rgba(255,255,255,0.4);border-radius:20px;border:1px solid rgba(255,255,255,0.6);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 8px 32px 0 rgba(100,50,50,0.2)}
        .content-wrapper{display:flex;align-items:center;gap:40px;margin-bottom:30px}
        .photo-column{flex:0 0 45%}
        .text-column{flex:1;text-align:left}
        h1{font-family:'Great Vibes',cursive;font-size:2.8rem;margin:0 0 15px 0;color:#c7435a;text-shadow:0 0 5px rgba(255,255,255,0.7);text-align:center;}
        .photo-display{width:100%;border-radius:15px;overflow:hidden;box-shadow:0 5px 20px rgba(0,0,0,0.15);}
        .photo-display img{width:100%;display:block;max-height:450px;object-fit:cover}
        .detail-caption{font-size:1.1rem;line-height:1.6;padding:0;max-height:350px;overflow-y:auto;}
        .back-button{display:inline-block;padding:12px 25px;font-size:1rem;color:#fff;background-color:#c7435a;border-radius:50px;text-decoration:none;transition:background-color .3s}
        .back-button:hover{background-color:#a53246}
        @media (max-width:768px){.content-wrapper{flex-direction:column;gap:20px}.text-column{text-align:center}.detail-caption{text-align:center;max-height:none;overflow-y:visible}}
    </style>
</head>
<body>
    <div class="background-effects"></div>
    <div class="glitter"></div>
    <div class="detail-container">
        <div class="content-wrapper">
            <div class="photo-column">
                <div class="photo-display">
                    <img src="1.jpg" alt="A precious memory">
                </div>
            </div>
            <div class="text-column">
                <h1>The First of Many Adventures</h1>
                <p class="detail-caption">
                    This very first photo, even now, makes my heart believe she could truly fall for me. I never imagined that single image would so completely capture my world and fill my gallery. I Love You Cutieee ‚ù§Ô∏è
                    "üéÇ Happy Birthday üéÇ"
                </p>
            </div>
        </div>
        <a href="gallery.html" id="back-to-gallery-button" class="back-button">‚Üê Back to Gallery</a>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // **FIX**: Correctly set the 'Back to Gallery' link
            const urlParams = new URLSearchParams(window.location.search);
            const birthdayISO = urlParams.get('bday');
            if (birthdayISO) {
                const backButton = document.getElementById('back-to-gallery-button');
                backButton.setAttribute('href', `gallery.html?bday=${birthdayISO}`);
            }
            createFloatingParticles();
        });
        function createFloatingParticles() {
            const container = document.querySelector('.background-effects');
            if (!container) return;
            const particleTypes = [
                { class: 'heart', count: 10, innerHTML: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>` },
                { class: 'rose', count: 8, innerHTML: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12,2C9.2,2,7,4.2,7,7c0,1.5,0.6,2.8,1.6,3.8C7.2,11.5,6.1,12.7,6,14c-0.1,1,0.4,1.9,0.9,2.7C6.4,17.5,6,18.7,6,20 c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2c0-1.3-0.4-2.5-1-3.3c0.5-0.8,1-1.7,0.9-2.7c-0.1-1.3-1.2-2.5-2.6-3.2C16.4,9.8,17,8.5,17,7 C17,4.2,14.8,2,12,2z M12,4c1.7,0,3,1.3,3,3c0,1-0.5,1.9-1.3,2.5C13.2,9.2,12.6,9,12,9s-1.2,0.2-1.7,0.5C9.5,8.9,9,8,9,7 C9,5.3,10.3,4,12,4z"/></svg>` }
            ];
            particleTypes.forEach(type => {
                for (let i = 0; i < type.count; i++) {
                    const p = document.createElement('div');
                    p.classList.add('particle', type.class);
                    p.style.left = Math.random() * 100 + 'vw';
                    p.style.animationDuration = (Math.random() * 10 + 15) + 's';
                    p.style.animationDelay = Math.random() * 15 + 's';
                    const size = Math.random() * 50 + 40;
                    p.style.width = size + 'px';
                    p.style.height = size + 'px';
                    p.innerHTML = type.innerHTML;
                    container.appendChild(p);
                }
            });
        }
    </script>
</body>
</html>